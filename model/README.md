## 폴더 구조
```
model/                 # LLM 관련 디렉토리
├── __init__.py        # RAG 시스템 메인 모듈
├── embedding.py       # 임베딩 생성 모듈
├── text_splitter.py   # 텍스트 분할 처리기
├── retriever.py       # 정보 검색 시스템
├── prompt.py          # LLM 프롬프트 템플릿
└── ollama_test.py     # Ollama 모델 테스트 스크립트
```

## 파일 설명
### init.py
- RAG 시스템 메인 파이프라인
- 주요 컴포넌트:
    - `review_rag()`: 리뷰 분석 메인 함수
    - 앙상블 리트리버 + Blossom-v6 LLM 조합
    - 한국어 특화 처리 파이프라인

### embedding.py
- 허깅페이스 임베딩 모델을 사용한 문장 벡터화 처리
- 주요 함수: get_embeddings()
    - `jhgan/ko-sbert-nli` 모델 기반 한국어 문장 임베딩 생성
    - 코사인 유사도 계산을 통한 문장 간 관계 분석 예제 포함
```
# 사용 예시
embeddings = get_embeddings("jhgan/ko-sbert-nli")
query_embedding = embeddings.embed_query("예시 질문")
```

### prompt.py
- 식당 리뷰 분석을 위한 구조화된 프롬프트 템플릿
- 4단계 분석 체계:
    1. 리뷰 요약 (2-3문장)
    2. 핵심 키워드 추출 (3-5개)
    3. 5점 척도 종합 평가
    4. 추천 여부 판단

### retriever.py
- 하이브리드 검색 시스템 구현
- 3단계 검색 아키텍처:
    - `BM25Retriever`: 전통적인 키워드 기반 검색
    - `Chroma`: 벡터 공간 기반 의미 검색
    - `EnsembleRetriever`: 상위 2개 검색기의 앙상블(가중치 50:50)

### text_splitter.py
- 재귀적 텍스트 분할기를 이용한 문서 처리
- 주요 특징:
    - 청크 크기: 20자
    - 청크 오버랩: 10자
    - 식당 리뷰 분석을 위한 최적화된 분할 설정
```
# 입력 예시
text_splitter = RecursiveCharacterTextSplitter(
    chunk_size=20,
    chunk_overlap=10
)
```

## 예시 출력 결과
```
### 리뷰 분석

#### 1. 리뷰 요약
이 리뷰에서 사용자는 주로 커피와 라떼에 대한 좋은 인상을 주고 있습니다. 특히 다산점의 커피와 라떼 맛에 만족하며, 테이크아웃과 포장 서비스도 좋다고 평가했습니다.

#### 2. 주요 키워드
- 커피
- 라떼
- 테이크아웃
- 맛있음
- 포장 서비스

#### 3. 총 평가(평점: 4점/5점 만점)
이 리뷰는 전체적으로 긍정적인 측면이 많습니다. 사용자는 커피와 라떼의 맛에 대해 매우 만족하며, 테이크아웃 서비스도 높게 평가했습니다. 

#### 4. 추천 여부
**추천**
이 식당을 방문하여 커피와 라떼를 즐길 수 있는 좋은 장소입니다. 특히 테이크아웃 서비스가 좋다는 점에서 다양한 고객층에게 적합할 것으로 보입니다. 커피와 라떼의 맛에 대해서 강력히 추천할 수 있습니다.

#### 결론
이 리뷰를 바탕으로 이 식당을 방문하여 커피와 라떼를 즐겨보시기를 권장합니다. 특히 테이크아웃 서비스가 좋아서 더욱 좋습니다. 
```
```
### 리뷰 분석 결과

#### 1. 리뷰 요약
이 식당에서는 주문 과정에서 혼란이 발생했으며, 키오스크의 위치와 서비스 태도에 대한 불만이 제기되었다. 특히 마감 시각과 관련된 혼란이 있었고,  직원의 대응 방식이 고객을 불편하게 했다.

#### 2. 주요 키워드
- 키오스크
- 마감 시각
- 서비스 태도
- 혼란
- 불편

#### 3. 총 평가(평점: 1점/5점 만점)
이 리뷰는 전체적으로 불만족스러운 점이 많다. 주문 과정에서의 혼란, 마감 시각에 대한 불명확함, 그리고 직원의 대응 태도가 고객을 불편하게 했다.  특히 키오스크의 위치와 관련된 문제는 재방문 의사에 큰 영향을 미쳤다.

#### 4. 추천 여부
비추천. 이 식당은 주문 과정에서의 혼란과 서비스 태도가 고객에게 불편함을 줄 수 있으며, 이러한 문제를 해결하지 않는 한 재방문 의사가 낮을 것으로 보인다.

### 결론
이 식당을 방문하는 것은 매우 위험한 선택일 수 있다. 주문 과정에서의 혼란과 서비스 태도가 크게 개선되지 않는 한 재방문 의사가 낮을 가능성이 높다. 따라서 이 식당을 방문하기 전에 이러한 문제를 해결할 수 있는지 확인하는 것이 중요하다.
```